<div class="main-panel">
  <div class="cart-wish_products">
    <div class="cart-wish_products__product" *ngFor="let product of cartService.cartItem">

      <img class="cart-wish_products__product___picture" src={{product.pictureUrl}}>

      <div class="cart-wish_products__product___info">
        <h2>{{product.phoneName}} <span>{{product.memory}}GB</span></h2>
        <span>({{product.phoneColor}})</span>
        <p>
          {{product.phonePriceUsd | currency : 'USD':'symbol':'3.0'}}
          <span>{{ product.phonePriceUsd*28}} Грн</span>
        </p>
      </div>

      <div class="cart-wish_products__product___buttons">

        <div class="cart-wish_products__product___buttons___circle-button">
          <button (click)="cartService.deleteOneProductInCart(product)" class="circle-button">
            <span>-</span>
          </button>

          <span> {{product.numberOfProducts}}</span>

          <button (click)="cartService.addOneProductToCart(product)" class="circle-button">
            <span>+</span>
          </button>

        </div>

        <div class="cart-wish_products__product___buttons___delete-add-button">
          <button title="Delete product" class=" btn delete-product-button "
            (click)="cartService.deleteInCart(product)">
            <img src="assets/img/ico/delete.png">
          </button>


        </div>
      </div>
    </div>
  </div>

  <div class="cart-wish_form">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-control">
        <label>Email</label>
        <input type="Email" formControlName="email" placeholder="Email"><span></span>

        <div class="errors" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
          <small *ngIf="form.get('email')?.errors?.required">
            Email field cannot be empty
          </small>
          <small *ngIf="form.get('email')?.errors?.email">
            Please enter a valid email address
          </small>
        </div>
      </div>

      <div class=" form-control">
        <label>Phone Number</label>
        <input type="tel" formControlName="phoneNumber" inputmode="numeric" placeholder="PhoneNumber*">


        <div class="errors" *ngIf=" form.get('phoneNumber')?.invalid && form.get('phoneNumber')?.touched">

          <small *ngIf="form.get('phoneNumber')?.errors?.minlength">
            you entered {{form.get('phoneNumber')?.errors?.minlength?.actualLength}} characters requiring
            <p>Minimum of {{form.get('phoneNumber')?.errors?.minlength?.requiredLength}} characters</p>
          </small>

          <small *ngIf="form.get('phoneNumber')?.errors?.required">
            Phone Number field cannot be empty
          </small>
        </div>
      </div>




      <div class="form-control">
        <label>Full name</label>
        <input type="text" formControlName='fullName'>

        <div class="errors" *ngIf="form.get('fullName')?.invalid && form.get('fullName')?.touched">
          <small>
            Full name field cannot be empty
          </small>
        </div>
      </div>

      <div class="form-control">
        <label>Address</label>
        <select name="" id="">
          <option value="">Self-pickup</option>
          <option value="">Delivery by courier</option>
          <option value="">Delivery by mail</option>
        </select>

      </div>


      <button class="btn" type="submit" [disabled]="form.invalid">Submit</button>
    </form>


    <button (click)="cartService.clearCartList()" class="btn wish-list_button">Clear Wish List</button>
    <p>Total price: {{cartService.totalPrice | currency : 'USD':'symbol':'3.0'}}</p>
  </div>
</div>
