<ng-template appModalRemove></ng-template>

<div class="main-panel">
  <router-outlet></router-outlet>

  <div *ngIf="orders.length; else loading">

    <div class="order " *ngFor="let o of orders |sortByDate"
      [ngClass]="{processing:o.orderStatus === 'processing',done:o.orderStatus === 'done',cancel:o.orderStatus === 'cancel'}">
      <div class="order_user-product-info">
        <div class="order_user">
          <h3>User:</h3>
          <table style="width:100%">
            <tr>
              <th>Email: </th>
              <td>{{o.email}}</td>
            </tr>

            <tr>
              <th>Phone: </th>
              <td>{{o.phoneNumber}}</td>
            </tr>

            <tr>
              <th>Name: </th>
              <td>{{o.fullName}}</td>
            </tr>

            <tr>
              <th>Sending: </th>
              <td>{{o.sendingType}}</td>
            </tr>

            <tr>
              <th>Home Address: </th>
              <td>{{o.address}}</td>
            </tr>
          </table>
        </div>

        <div class="order_products">
          <h3>Products:</h3>
          <div class="scroll">
            <p *ngFor="let p of o.products" class="example-item">{{p['phoneName']}} ({{p['phoneColor']}})
              {{p['memory']}}GB : {{p['numberOfProducts']}} pieces</p>
          </div>

        </div>
      </div>


      <div class="order-info">
        <p>Order id: {{o.id}}</p>
        <p>Order date: {{o.orderDate | date:'short'}}</p>
        <p>Order price: {{o.orderPrice | currency : 'USD':'symbol':'3.0'}}</p>
      </div>

      <div class="order-buttons" [@hidden]="o.state">
        <button style="background-color: rgb(46, 129, 46);" class="btn" (click)="orderDone(o)">Done</button>
        <div class="cancel-remove-button">

          <button style="background-color: rgb(158, 60, 60); position:static;" class="btn"
            (click)="orderCancel(o)">Cancel</button>
          <button title="Delete product" class=" btn delete-product-button " *ngIf="o.orderStatus === 'cancel'"
            (click)="remove(o)">
            <img src="assets/img/ico/delete.png">
          </button>

        </div>
        <button style="background-color: rgb(41, 43, 161); " class="btn" (click)="getOrder(o.id)">Print</button>
      </div>

      <div class="menu-button" [@rotate]="o.state" (click)="animate(o.id)"> <img src="assets/img/ico/menu.png" alt="">
      </div>

    </div>
  </div>
  <ng-template #loading>
    <div class="wavy-loading">
      <span style="--i:1;">L</span>
      <span style="--i:2;">O</span>
      <span style="--i:3;">A</span>
      <span style="--i:4;">D</span>
      <span style="--i:5;">I</span>
      <span style="--i:6;">N</span>
      <span style="--i:7;">G</span>
      <span style="--i:8;">.</span>
      <span style="--i:9;">.</span>
      <span style="--i:10;">.</span>
    </div>
  </ng-template>
</div>
